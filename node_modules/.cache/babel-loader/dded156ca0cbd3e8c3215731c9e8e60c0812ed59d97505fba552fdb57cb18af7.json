{"ast":null,"code":"import { toast } from \"react-toastify\";\nimport axios from \"axios\";\n\n// Set up axios instance with base URL and headers\nconst httpClient = axios.create({\n  baseURL: process.env.REACT_APP_LEVERPAY_API_URL || 'http://localhost:3000',\n  headers: {\n    Authorization: \"Bearer \" + localStorage.getItem(\"_jwt\")\n  }\n});\n\n// SignIn function\nexport const signIn = async (userData, jwt, setJwt, setSubmitted) => {\n  if (!jwt) {\n    const signInURL = \"https://leverpay-api.azurewebsites.net/api/v1/login\";\n    try {\n      const response = await httpClient.post(signInURL, userData);\n      if (response.data.success) {\n        toast.success(response.data.message);\n        setJwt(response.data.token);\n        localStorage.setItem(\"_jwt\", response.data.token);\n        setTimeout(() => {\n          window.location.href = \"/\";\n        });\n      } else {\n        toast.error(response.data.message);\n        setSubmitted(false);\n      }\n    } catch (err) {\n      console.error(err);\n      if (err.response && err.response.data && err.response.data.message) {\n        toast.error(err.response.data.message);\n      } else {\n        toast.error(\"An error occurred. Please try again.\");\n      }\n      setSubmitted(false);\n    }\n  }\n};\n\n// SignUp function\nexport const signUp = async signupData => {\n  try {\n    const response = await httpClient.post(\"/v1/user/signup\", signupData);\n    if (response.data.status === 200) {\n      toast.success(response.data.message);\n      localStorage.setItem(\"userEmail\", signupData.email);\n      setTimeout(() => {\n        window.location.href = \"/leverpay-signup/signup-OTP\";\n      }, 2000);\n    } else {\n      toast.error(response.data.message);\n    }\n  } catch (error) {\n    console.error(\"Error\", error, \"Sign Up\");\n  }\n};\n\n// VerifyEmail function\nexport const verifyEmail = async verifyData => {\n  try {\n    const response = await httpClient.post(\"/v1/verify-email\", verifyData);\n    if (response.data.status === 200) {\n      toast.success(response.data.message);\n      setTimeout(() => {\n        window.location.href = \"/signin\";\n      }, 2000);\n    } else {\n      toast.error(response.data.message);\n    }\n  } catch (error) {\n    console.error(error);\n  }\n};\n\n// GetUserProfile function\nexport const getUserProfile = async setUser => {\n  try {\n    const response = await httpClient.get(\"/v1/user/get-user-profile\");\n    setUser(response.data.data);\n    localStorage.setItem(\"user\", JSON.stringify(response.data.data));\n    console.log(\"User found successfully\");\n  } catch (err) {\n    console.error(err);\n  }\n};\n\n// UpdateUserProfile function\nexport const updateUserProfile = async userDataUpdate => {\n  try {\n    const response = await httpClient.post(\"/v1/user/update-user-profile\", userDataUpdate);\n    toast.success(response.data.message);\n    setTimeout(() => {\n      window.location.href = \"/\";\n    }, 2000);\n  } catch (err) {\n    console.error(err.message);\n  }\n};\n\n// UserResetPassword function\nexport const userResetPassword = async (passwordReset, setJwt) => {\n  try {\n    const response = await httpClient.post(\"/v1/reset-password\", passwordReset);\n    if (response.data.success !== false) {\n      toast.success(response.data.message);\n      setTimeout(() => {\n        window.location.href = \"/signin\";\n        setJwt(\"\");\n      }, 5000);\n    } else {\n      toast.error(response.data.message);\n    }\n  } catch (err) {\n    toast.error(err.message);\n  }\n};\n\n// LogoutUser function\nexport const logoutUser = async () => {\n  try {\n    const response = await httpClient.get(\"/v1/user/logout\");\n    toast.success(response.data.message);\n    localStorage.removeItem(\"user\");\n  } catch (err) {\n    console.error(err.message);\n  }\n};\n\n// GetCountry function\nexport const getCountry = async setCountry => {\n  try {\n    const response = await httpClient.get(\"/v1/get-countries\");\n    setCountry(response.data.data);\n  } catch (err) {\n    toast.error(err.message);\n  }\n};\n\n// GetState function\nexport const getState = async (countryID, setState) => {\n  try {\n    const response = await httpClient.post(\"/v1/get-states\", {\n      country_id: countryID\n    });\n    setState(response.data.data);\n  } catch (err) {\n    toast.error(err.message);\n  }\n};\n\n// GetCities function\nexport const getCities = async (stateID, setCity) => {\n  try {\n    const response = await httpClient.post(\"/v1/get-cities\", {\n      state_id: stateID\n    });\n    setCity(response.data.data);\n  } catch (err) {\n    toast.error(err.message);\n  }\n};","map":{"version":3,"names":["toast","axios","httpClient","create","baseURL","process","env","REACT_APP_LEVERPAY_API_URL","headers","Authorization","localStorage","getItem","signIn","userData","jwt","setJwt","setSubmitted","signInURL","response","post","data","success","message","token","setItem","setTimeout","window","location","href","error","err","console","signUp","signupData","status","email","verifyEmail","verifyData","getUserProfile","setUser","get","JSON","stringify","log","updateUserProfile","userDataUpdate","userResetPassword","passwordReset","logoutUser","removeItem","getCountry","setCountry","getState","countryID","setState","country_id","getCities","stateID","setCity","state_id"],"sources":["/home/user/Documents/user-dashboard-frontend/src/services/apiService.js"],"sourcesContent":["import { toast } from \"react-toastify\";\nimport axios from \"axios\";\n\n// Set up axios instance with base URL and headers\nconst httpClient = axios.create({\n  baseURL: process.env.REACT_APP_LEVERPAY_API_URL || 'http://localhost:3000',\n  headers: { Authorization: \"Bearer \" + localStorage.getItem(\"_jwt\") },\n});\n\n// SignIn function\nexport const signIn = async (userData, jwt, setJwt, setSubmitted) => {\n  if (!jwt) {\n    const signInURL = \"https://leverpay-api.azurewebsites.net/api/v1/login\";\n    try {\n      const response = await httpClient.post(signInURL, userData);\n      if (response.data.success) {\n        toast.success(response.data.message);\n        setJwt(response.data.token);\n        localStorage.setItem(\"_jwt\", response.data.token);\n        setTimeout(() => {\n          window.location.href = \"/\";\n        });\n      } else {\n        toast.error(response.data.message);\n        setSubmitted(false);\n      }\n    } catch (err) {\n      console.error(err);\n      if (err.response && err.response.data && err.response.data.message) {\n        toast.error(err.response.data.message);\n      } else {\n        toast.error(\"An error occurred. Please try again.\");\n      }\n      setSubmitted(false);\n    }\n  }\n};\n\n// SignUp function\nexport const signUp = async (signupData) => {\n  try {\n    const response = await httpClient.post(\"/v1/user/signup\", signupData);\n    if (response.data.status === 200) {\n      toast.success(response.data.message);\n      localStorage.setItem(\"userEmail\", signupData.email);\n      setTimeout(() => {\n        window.location.href = \"/leverpay-signup/signup-OTP\";\n      }, 2000);\n    } else {\n      toast.error(response.data.message);\n    }\n  } catch (error) {\n    console.error(\"Error\", error, \"Sign Up\");\n  }\n};\n\n// VerifyEmail function\nexport const verifyEmail = async (verifyData) => {\n  try {\n    const response = await httpClient.post(\"/v1/verify-email\", verifyData);\n    if (response.data.status === 200) {\n      toast.success(response.data.message);\n      setTimeout(() => {\n        window.location.href = \"/signin\";\n      }, 2000);\n    } else {\n      toast.error(response.data.message);\n    }\n  } catch (error) {\n    console.error(error);\n  }\n};\n\n// GetUserProfile function\nexport const getUserProfile = async (setUser) => {\n  try {\n    const response = await httpClient.get(\"/v1/user/get-user-profile\");\n    setUser(response.data.data);\n    localStorage.setItem(\"user\", JSON.stringify(response.data.data));\n    console.log(\"User found successfully\");\n  } catch (err) {\n    console.error(err);\n  }\n};\n\n// UpdateUserProfile function\nexport const updateUserProfile = async (userDataUpdate) => {\n  try {\n    const response = await httpClient.post(\"/v1/user/update-user-profile\", userDataUpdate);\n    toast.success(response.data.message);\n    setTimeout(() => {\n      window.location.href = \"/\";\n    }, 2000);\n  } catch (err) {\n    console.error(err.message);\n  }\n};\n\n// UserResetPassword function\nexport const userResetPassword = async (passwordReset, setJwt) => {\n  try {\n    const response = await httpClient.post(\"/v1/reset-password\", passwordReset);\n    if (response.data.success !== false) {\n      toast.success(response.data.message);\n      setTimeout(() => {\n        window.location.href = \"/signin\";\n        setJwt(\"\");\n      }, 5000);\n    } else {\n      toast.error(response.data.message);\n    }\n  } catch (err) {\n    toast.error(err.message);\n  }\n};\n\n// LogoutUser function\nexport const logoutUser = async () => {\n  try {\n    const response = await httpClient.get(\"/v1/user/logout\");\n    toast.success(response.data.message);\n    localStorage.removeItem(\"user\");\n  } catch (err) {\n    console.error(err.message);\n  }\n};\n\n// GetCountry function\nexport const getCountry = async (setCountry) => {\n  try {\n    const response = await httpClient.get(\"/v1/get-countries\");\n    setCountry(response.data.data);\n  } catch (err) {\n    toast.error(err.message);\n  }\n};\n\n// GetState function\nexport const getState = async (countryID, setState) => {\n  try {\n    const response = await httpClient.post(\"/v1/get-states\", { country_id: countryID });\n    setState(response.data.data);\n  } catch (err) {\n    toast.error(err.message);\n  }\n};\n\n// GetCities function\nexport const getCities = async (stateID, setCity) => {\n  try {\n    const response = await httpClient.post(\"/v1/get-cities\", { state_id: stateID });\n    setCity(response.data.data);\n  } catch (err) {\n    toast.error(err.message);\n  }\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}