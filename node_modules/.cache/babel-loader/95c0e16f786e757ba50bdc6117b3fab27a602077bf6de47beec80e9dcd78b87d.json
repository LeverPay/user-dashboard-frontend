{"ast":null,"code":"import{toast}from\"react-toastify\";import axios from\"axios\";const httpClient=axios.create({baseURL:process.env.REACT_APP_LEVERPAY_API_URL,timeout:10000,headers:{Authorization:\"Bearer \"+localStorage.getItem(\"_jwt\")}});export const signIn=async(userData,jwt,setJwt,setSubmitted)=>{if(!jwt){const signInURL=\"https://leverpay-api.azurewebsites.net/api/v1/login\";try{const response=await httpClient.post(signInURL,userData);if(response.data.success){toast.success(response.data.message);setJwt(response.data.token);localStorage.setItem(\"_jwt\",response.data.token);setTimeout(()=>{window.location.href=\"/\";},2000);}else{toast.error(response.data.message);setSubmitted(false);}}catch(err){console.log(err);if(err.response&&err.response.data&&err.response.data.message){toast.error(err.response.data.message);}else{toast.error(\"An error occurred. Please try again.\");}setSubmitted(false);}}};export const signUp=async _ref=>{let{signupData}=_ref;try{const response=await httpClient.post(\"/v1/user/signup\",signupData);if(response.data.status===200){toast.success(response.data.message);localStorage.setItem(\"userEmail\",signupData.email);setTimeout(()=>{window.location.href=\"/leverpay-signup/signup-OTP\";},2000);}else{toast.error(response.data.message);}}catch(error){console.log(\"Error\",error,\"Sign Up\");}};export const verifyEmail=async verifyData=>{try{const response=await httpClient.post(\"/v1/verify-email\",verifyData);if(response.data.status===200){toast.success(response.data.message);setTimeout(()=>{window.location.href=\"/signin\";},2000);}else{toast.error(response.data.message);}}catch(error){console.log(error);}};export const getUserProfile=async setUser=>{try{const response=await httpClient.get(\"/v1/user/get-user-profile\");setUser(response.data.data);localStorage.setItem(\"user\",JSON.stringify(response.data.data));console.log(\"User found successfully\");}catch(err){console.log(err);}};export const updateUserProfile=async userDataUpdate=>{try{const response=await httpClient.post(\"/v1/user/update-user-profile\",userDataUpdate);toast.success(response.data.message);setTimeout(()=>{window.location.href=\"/\";},2000);}catch(err){console.log(err.message);}};export const userResetPassword=async(passwordReset,setJwt)=>{try{const response=await httpClient.post(\"/v1/reset-password\",passwordReset);if(response.data.success!==false){toast.success(response.data.message);setTimeout(()=>{window.location.href=\"/signin\";setJwt(\"\");},5000);}else{toast.error(response.data.message);}}catch(err){toast.error(err.message);}};export const logoutUser=async()=>{try{const response=await httpClient.get(\"/v1/user/logout\");toast.success(response.data.message);localStorage.removeItem(\"user\");}catch(err){console.log(err.message);}};export const getCountry=async setCountry=>{try{const response=await httpClient.get(\"/v1/get-countries\");setCountry(response.data.data);}catch(err){toast.error(err.message);}};export const getState=async(countryID,setState)=>{try{const response=await httpClient.post(\"/v1/get-states\",{country_id:countryID});setState(response.data.data);}catch(err){toast.error(err.message);}};export const getCities=async(stateID,setCity)=>{try{const response=await httpClient.post(\"/v1/get-cities\",{state_id:stateID});setCity(response.data.data);}catch(err){toast.error(err.message);}};","map":{"version":3,"names":["toast","axios","httpClient","create","baseURL","process","env","REACT_APP_LEVERPAY_API_URL","timeout","headers","Authorization","localStorage","getItem","signIn","userData","jwt","setJwt","setSubmitted","signInURL","response","post","data","success","message","token","setItem","setTimeout","window","location","href","error","err","console","log","signUp","_ref","signupData","status","email","verifyEmail","verifyData","getUserProfile","setUser","get","JSON","stringify","updateUserProfile","userDataUpdate","userResetPassword","passwordReset","logoutUser","removeItem","getCountry","setCountry","getState","countryID","setState","country_id","getCities","stateID","setCity","state_id"],"sources":["/home/user/Documents/user-dashboard-frontend/src/services/apiService.js"],"sourcesContent":["import { toast } from \"react-toastify\";\nimport axios from \"axios\";\n\nconst httpClient = axios.create({\n\n  baseURL: process.env.REACT_APP_LEVERPAY_API_URL,\n  timeout: 10000,\n  headers: { Authorization: \"Bearer \" + localStorage.getItem(\"_jwt\") },\n\n});\n\nexport const signIn = async (userData, jwt, setJwt, setSubmitted) => {\n  if (!jwt) {\n    const signInURL = \"https://leverpay-api.azurewebsites.net/api/v1/login\";\n\n    try {\n      const response = await httpClient.post(signInURL, userData);\n\n      if (response.data.success) {\n        toast.success(response.data.message);\n        setJwt(response.data.token);\n        localStorage.setItem(\"_jwt\", response.data.token);\n        setTimeout(() => {\n          window.location.href = \"/\";\n        }, 2000);\n      } else {\n        toast.error(response.data.message);\n        setSubmitted(false);  \n      }\n    } catch (err) {\n      console.log(err);\n      if (err.response && err.response.data && err.response.data.message) {\n        toast.error(err.response.data.message);\n      } else {\n        toast.error(\"An error occurred. Please try again.\");\n      }\n\n      setSubmitted(false);  \n    }\n\n  }\n};\n\nexport const signUp = async ({ signupData }) => {\n  try {\n    const response = await httpClient.post(\"/v1/user/signup\", signupData);\n    if (response.data.status === 200) {\n      toast.success(response.data.message);\n      localStorage.setItem(\"userEmail\", signupData.email);\n      setTimeout(() => {\n        window.location.href = \"/leverpay-signup/signup-OTP\";\n      }, 2000);\n    } else {\n      toast.error(response.data.message);\n    }\n  } catch (error) {\n    console.log(\"Error\", error, \"Sign Up\");\n  }\n};\n\nexport const verifyEmail = async (verifyData) => {\n  try {\n    const response = await httpClient.post(\"/v1/verify-email\", verifyData);\n    if (response.data.status === 200) {\n      toast.success(response.data.message);\n      setTimeout(() => {\n        window.location.href = \"/signin\";\n      }, 2000);\n    } else {\n      toast.error(response.data.message);\n    }\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const getUserProfile = async (setUser) => {\n  try {\n    const response = await httpClient.get(\"/v1/user/get-user-profile\");\n    setUser(response.data.data);\n    localStorage.setItem(\"user\", JSON.stringify(response.data.data));\n    console.log(\"User found successfully\");\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nexport const updateUserProfile = async (userDataUpdate) => {\n  try {\n    const response = await httpClient.post(\"/v1/user/update-user-profile\", userDataUpdate);\n    toast.success(response.data.message);\n    setTimeout(() => {\n      window.location.href = \"/\";\n    }, 2000);\n  } catch (err) {\n    console.log(err.message);\n  }\n};\n\nexport const userResetPassword = async (passwordReset, setJwt) => {\n  try {\n    const response = await httpClient.post(\"/v1/reset-password\", passwordReset);\n    if (response.data.success !== false) {\n      toast.success(response.data.message);\n      setTimeout(() => {\n        window.location.href = \"/signin\";\n        setJwt(\"\");\n      }, 5000);\n    } else {\n      toast.error(response.data.message);\n    }\n  } catch (err) {\n    toast.error(err.message);\n  }\n};\n\nexport const logoutUser = async () => {\n  try {\n    const response = await httpClient.get(\"/v1/user/logout\");\n    toast.success(response.data.message);\n    localStorage.removeItem(\"user\");\n  } catch (err) {\n    console.log(err.message);\n  }\n};\n\nexport const getCountry = async (setCountry) => {\n  try {\n    const response = await httpClient.get(\"/v1/get-countries\");\n    setCountry(response.data.data);\n  } catch (err) {\n    toast.error(err.message);\n  }\n};\n\nexport const getState = async (countryID, setState) => {\n  try {\n    const response = await httpClient.post(\"/v1/get-states\", { country_id: countryID });\n    setState(response.data.data);\n  } catch (err) {\n    toast.error(err.message);\n  }\n};\n\nexport const getCities = async (stateID, setCity) => {\n  try {\n    const response = await httpClient.post(\"/v1/get-cities\", { state_id: stateID });\n    setCity(response.data.data);\n  } catch (err) {\n    toast.error(err.message);\n  }\n};\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}