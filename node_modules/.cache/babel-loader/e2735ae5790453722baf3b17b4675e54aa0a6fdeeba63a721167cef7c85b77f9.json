{"ast":null,"code":"import { toast } from \"react-toastify\";\nimport axios from \"axios\";\nconst httpClient = axios.create({\n  baseURL: process.env.REACT_APP_LEVERPAY_API_URL,\n  timeout: 10000,\n  headers: {\n    Authorization: \"Bearer \" + localStorage.getItem(\"_jwt\")\n  }\n});\nexport const signIn = async (userData, jwt, setJwt, setSubmitted) => {\n  if (!jwt) {\n    const signInURL = \"https://leverpay-api.azurewebsites.net/api/v1/login\";\n    try {\n      const response = await httpClient.post(signInURL, userData);\n      if (response.data.success) {\n        toast.success(response.data.message);\n        setJwt(response.data.token);\n        localStorage.setItem(\"_jwt\", response.data.token);\n        setTimeout(() => {\n          window.location.href = \"/\";\n        }, 2000);\n      } else {\n        toast.error(response.data.message);\n        setSubmitted(false);\n      }\n    } catch (err) {\n      console.log(err);\n      if (err.response && err.response.data && err.response.data.message) {\n        toast.error(err.response.data.message);\n      } else {\n        toast.error(\"An error occurred. Please try again.\");\n      }\n      setSubmitted(false);\n    }\n  }\n};\nexport const signUp = async ({\n  signupData\n}) => {\n  try {\n    const response = await httpClient.post(\"/v1/user/signup\", signupData);\n    if (response.data.status === 200) {\n      toast.success(response.data.message);\n      localStorage.setItem(\"userEmail\", signupData.email);\n      setTimeout(() => {\n        window.location.href = \"/leverpay-signup/signup-OTP\";\n      }, 2000);\n    } else {\n      toast.error(response.data.message);\n    }\n  } catch (error) {\n    console.log(\"Error\", error, \"Sign Up\");\n  }\n};\nexport const verifyEmail = async verifyData => {\n  try {\n    const response = await httpClient.post(\"/v1/verify-email\", verifyData);\n    if (response.data.status === 200) {\n      toast.success(response.data.message);\n      setTimeout(() => {\n        window.location.href = \"/signin\";\n      }, 2000);\n    } else {\n      toast.error(response.data.message);\n    }\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const getUserProfile = async setUser => {\n  try {\n    const response = await httpClient.get(\"/v1/user/get-user-profile\");\n    setUser(response.data.data);\n    localStorage.setItem(\"user\", JSON.stringify(response.data.data));\n    console.log(\"User found successfully\");\n  } catch (err) {\n    console.log(err);\n  }\n};\nexport const updateUserProfile = async userDataUpdate => {\n  try {\n    const response = await httpClient.post(\"/v1/user/update-user-profile\", userDataUpdate);\n    toast.success(response.data.message);\n    setTimeout(() => {\n      window.location.href = \"/\";\n    }, 2000);\n  } catch (err) {\n    console.log(err.message);\n  }\n};\nexport const userResetPassword = async (passwordReset, setJwt) => {\n  try {\n    const response = await httpClient.post(\"/v1/reset-password\", passwordReset);\n    if (response.data.success !== false) {\n      toast.success(response.data.message);\n      setTimeout(() => {\n        window.location.href = \"/signin\";\n        setJwt(\"\");\n      }, 5000);\n    } else {\n      toast.error(response.data.message);\n    }\n  } catch (err) {\n    toast.error(err.message);\n  }\n};\nexport const logoutUser = async () => {\n  try {\n    const response = await httpClient.get(\"/v1/user/logout\");\n    toast.success(response.data.message);\n    localStorage.removeItem(\"user\");\n  } catch (err) {\n    console.log(err.message);\n  }\n};\nexport const getCountry = async setCountry => {\n  try {\n    const response = await httpClient.get(\"/v1/get-countries\");\n    setCountry(response.data.data);\n  } catch (err) {\n    toast.error(err.message);\n  }\n};\nexport const getState = async (countryID, setState) => {\n  try {\n    const response = await httpClient.post(\"/v1/get-states\", {\n      country_id: countryID\n    });\n    setState(response.data.data);\n  } catch (err) {\n    toast.error(err.message);\n  }\n};\nexport const getCities = async (stateID, setCity) => {\n  try {\n    const response = await httpClient.post(\"/v1/get-cities\", {\n      state_id: stateID\n    });\n    setCity(response.data.data);\n  } catch (err) {\n    toast.error(err.message);\n  }\n};","map":{"version":3,"names":["toast","axios","httpClient","create","baseURL","process","env","REACT_APP_LEVERPAY_API_URL","timeout","headers","Authorization","localStorage","getItem","signIn","userData","jwt","setJwt","setSubmitted","signInURL","response","post","data","success","message","token","setItem","setTimeout","window","location","href","error","err","console","log","signUp","signupData","status","email","verifyEmail","verifyData","getUserProfile","setUser","get","JSON","stringify","updateUserProfile","userDataUpdate","userResetPassword","passwordReset","logoutUser","removeItem","getCountry","setCountry","getState","countryID","setState","country_id","getCities","stateID","setCity","state_id"],"sources":["/home/user/Documents/user-dashboard-frontend/src/services/apiService.js"],"sourcesContent":["import { toast } from \"react-toastify\";\nimport axios from \"axios\";\n\nconst httpClient = axios.create({\n\n  baseURL: process.env.REACT_APP_LEVERPAY_API_URL,\n  timeout: 10000,\n  headers: { Authorization: \"Bearer \" + localStorage.getItem(\"_jwt\") },\n\n});\n\nexport const signIn = async (userData, jwt, setJwt, setSubmitted) => {\n  if (!jwt) {\n    const signInURL = \"https://leverpay-api.azurewebsites.net/api/v1/login\";\n\n    try {\n      const response = await httpClient.post(signInURL, userData);\n\n      if (response.data.success) {\n        toast.success(response.data.message);\n        setJwt(response.data.token);\n        localStorage.setItem(\"_jwt\", response.data.token);\n        setTimeout(() => {\n          window.location.href = \"/\";\n        }, 2000);\n      } else {\n        toast.error(response.data.message);\n        setSubmitted(false);  \n      }\n    } catch (err) {\n      console.log(err);\n      if (err.response && err.response.data && err.response.data.message) {\n        toast.error(err.response.data.message);\n      } else {\n        toast.error(\"An error occurred. Please try again.\");\n      }\n\n      setSubmitted(false);  \n    }\n\n  }\n};\n\nexport const signUp = async ({ signupData }) => {\n  try {\n    const response = await httpClient.post(\"/v1/user/signup\", signupData);\n    if (response.data.status === 200) {\n      toast.success(response.data.message);\n      localStorage.setItem(\"userEmail\", signupData.email);\n      setTimeout(() => {\n        window.location.href = \"/leverpay-signup/signup-OTP\";\n      }, 2000);\n    } else {\n      toast.error(response.data.message);\n    }\n  } catch (error) {\n    console.log(\"Error\", error, \"Sign Up\");\n  }\n};\n\nexport const verifyEmail = async (verifyData) => {\n  try {\n    const response = await httpClient.post(\"/v1/verify-email\", verifyData);\n    if (response.data.status === 200) {\n      toast.success(response.data.message);\n      setTimeout(() => {\n        window.location.href = \"/signin\";\n      }, 2000);\n    } else {\n      toast.error(response.data.message);\n    }\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const getUserProfile = async (setUser) => {\n  try {\n    const response = await httpClient.get(\"/v1/user/get-user-profile\");\n    setUser(response.data.data);\n    localStorage.setItem(\"user\", JSON.stringify(response.data.data));\n    console.log(\"User found successfully\");\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nexport const updateUserProfile = async (userDataUpdate) => {\n  try {\n    const response = await httpClient.post(\"/v1/user/update-user-profile\", userDataUpdate);\n    toast.success(response.data.message);\n    setTimeout(() => {\n      window.location.href = \"/\";\n    }, 2000);\n  } catch (err) {\n    console.log(err.message);\n  }\n};\n\nexport const userResetPassword = async (passwordReset, setJwt) => {\n  try {\n    const response = await httpClient.post(\"/v1/reset-password\", passwordReset);\n    if (response.data.success !== false) {\n      toast.success(response.data.message);\n      setTimeout(() => {\n        window.location.href = \"/signin\";\n        setJwt(\"\");\n      }, 5000);\n    } else {\n      toast.error(response.data.message);\n    }\n  } catch (err) {\n    toast.error(err.message);\n  }\n};\n\nexport const logoutUser = async () => {\n  try {\n    const response = await httpClient.get(\"/v1/user/logout\");\n    toast.success(response.data.message);\n    localStorage.removeItem(\"user\");\n  } catch (err) {\n    console.log(err.message);\n  }\n};\n\nexport const getCountry = async (setCountry) => {\n  try {\n    const response = await httpClient.get(\"/v1/get-countries\");\n    setCountry(response.data.data);\n  } catch (err) {\n    toast.error(err.message);\n  }\n};\n\nexport const getState = async (countryID, setState) => {\n  try {\n    const response = await httpClient.post(\"/v1/get-states\", { country_id: countryID });\n    setState(response.data.data);\n  } catch (err) {\n    toast.error(err.message);\n  }\n};\n\nexport const getCities = async (stateID, setCity) => {\n  try {\n    const response = await httpClient.post(\"/v1/get-cities\", { state_id: stateID });\n    setCity(response.data.data);\n  } catch (err) {\n    toast.error(err.message);\n  }\n};\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}