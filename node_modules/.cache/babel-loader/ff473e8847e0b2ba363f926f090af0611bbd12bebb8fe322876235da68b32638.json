{"ast":null,"code":"import Button from\"react-bootstrap/Button\";import\"./KYCFormsButton.css\";import React,{useState,useEffect}from\"react\";import{VerificationMessage}from\"../KYCFormsUpgradeMessages/VerificationMessage\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export const KYCFormsButton=props=>{const[verification,setVerification]=useState(false);const toggle=()=>setVerification(!verification);const[upgradeData,setUgradeData]=useState(null);const[btnDisable,setBtnDisable]=useState(true);const[section1,setSection1]=useState(0);const[section2,setSection2]=useState(0);const[section3,setSection3]=useState(0);const hnd=()=>{};useEffect(()=>{window.addEventListener(\"storage\",()=>{setUgradeData(localStorage.getItem(\"upgrade_data\",null));console.log(\"Change to local storage!\");console.log(upgradeData);setSection1(parseInt(localStorage.getItem(\"section_1\",0)));setSection2(parseInt(localStorage.getItem(\"section_2\",0)));setSection3(parseInt(localStorage.getItem(\"section_3\",0)));});});useEffect(()=>{setBtnDisable(section1<1||section2<1);},[upgradeData]);useEffect(()=>{if(verification){const timeout=setTimeout(()=>{setVerification(false);props.handleClose?props.handleClose():hnd();},1000);// timer reduced\nreturn()=>clearTimeout(timeout);}},[verification]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-grid gap-2 kyc-button\",children:[/*#__PURE__*/_jsx(Button,{variant:\"\",size:\"lg\",className:\"\",onClick:toggle,disabled:btnDisable,children:\"Submit\"}),verification&&/*#__PURE__*/_jsx(VerificationMessage,{accountType:props.accountType})]})});};","map":{"version":3,"names":["Button","React","useState","useEffect","VerificationMessage","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","KYCFormsButton","props","verification","setVerification","toggle","upgradeData","setUgradeData","btnDisable","setBtnDisable","section1","setSection1","section2","setSection2","section3","setSection3","hnd","window","addEventListener","localStorage","getItem","console","log","parseInt","timeout","setTimeout","handleClose","clearTimeout","children","className","variant","size","onClick","disabled","accountType"],"sources":["/home/user/Documents/user-dashboard-frontend/src/page/KYCForms/KYCFormsButton/KYCFormsButton.js"],"sourcesContent":["import Button from \"react-bootstrap/Button\";\nimport \"./KYCFormsButton.css\";\nimport React, { useState, useEffect } from \"react\";\nimport { VerificationMessage } from \"../KYCFormsUpgradeMessages/VerificationMessage\";\n\nexport const KYCFormsButton = (props) => {\n  const [verification, setVerification] = useState(false);\n  const toggle = () => setVerification(!verification);\n  const [upgradeData, setUgradeData] = useState(null);\n  const [btnDisable, setBtnDisable] = useState(true);\n  const [section1, setSection1] = useState(0);\n  const [section2, setSection2] = useState(0);\n  const [section3, setSection3] = useState(0);\n  const hnd = () => {};\n  useEffect(() => {\n    window.addEventListener(\"storage\", () => {\n      setUgradeData(localStorage.getItem(\"upgrade_data\", null));\n      console.log(\"Change to local storage!\");\n      console.log(upgradeData);\n      setSection1(parseInt(localStorage.getItem(\"section_1\", 0)));\n      setSection2(parseInt(localStorage.getItem(\"section_2\", 0)));\n      setSection3(parseInt(localStorage.getItem(\"section_3\", 0)));\n    });\n  });\n  useEffect(() => {\n    setBtnDisable(section1 < 1 || section2 < 1);\n  }, [upgradeData]);\n  useEffect(() => {\n    if (verification) {\n      const timeout = setTimeout(() => {\n        setVerification(false);\n        props.handleClose ? props.handleClose() : hnd();\n      }, 1000);\n      // timer reduced\n\n      return () => clearTimeout(timeout);\n    }\n  }, [verification]);\n  return (\n    <>\n      <div className=\"d-grid gap-2 kyc-button\">\n        <Button\n          variant=\"\"\n          size=\"lg\"\n          className=\"\"\n          onClick={toggle}\n          disabled={btnDisable}\n        >\n          Submit\n        </Button>\n        {verification && (\n          <VerificationMessage accountType={props.accountType} />\n        )}\n      </div>\n    </>\n  );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}