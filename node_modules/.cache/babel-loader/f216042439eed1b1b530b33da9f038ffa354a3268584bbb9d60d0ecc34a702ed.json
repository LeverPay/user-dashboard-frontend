{"ast":null,"code":"import React,{useState}from\"react\";import{Button}from\"react-bootstrap\";import{MdOutlineEdit,MdDeleteOutline}from\"react-icons/md\";import avatar from\"../../assets/images/avatar.png\";import ImageSelectModal from\"./ImageSelectModal\";import{ToastContainer,toast}from\"react-toastify\";import\"./ImageSelectComponent.css\";// import \"../ImageComponent/ImageComponent.css\";\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ImageSelectComponent=_ref=>{let{currentImage,setCurrentImage,originalImage,setOriginalImage}=_ref;const[modalOpen,setModalOpen]=useState(false);const[validImage,setValidImage]=useState(true);const getImage=e=>{const imageType=e.target.files[0].type;if(imageType!==\"image/jpg\"&&imageType!==\"image/jpeg\"&&imageType!==\"image/png\"){toast.error(\"Invalid file format\");setValidImage(false);}setCurrentImage(e.target.files[0]);setOriginalImage(e.target.files[0]);};const uploadImg=()=>{if(currentImage.length!==0){const newImage=setCurrentImage(URL.createObjectURL(currentImage));setModalOpen(false);return newImage;}else{setCurrentImage(currentImage);}setModalOpen(false);};const handleRemoveImage=()=>{setCurrentImage(!currentImage?avatar:avatar);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"upload-control\",children:[/*#__PURE__*/_jsx(ImageSelectModal,{modalOpen:modalOpen,setModalOpen:setModalOpen,getImage:getImage,uploadImg:uploadImg,currentImage:currentImage,validImage:validImage//setValidImage\n}),/*#__PURE__*/_jsx(\"div\",{className:\"img_box\",children:/*#__PURE__*/_jsx(\"img\",{src:currentImage?currentImage:avatar,alt:\"\",className:\"profile-img\"})}),/*#__PURE__*/_jsxs(Button,{variant:\"primary\",className:\"change-img\",onClick:()=>setModalOpen(true),children:[\"Change \",/*#__PURE__*/_jsx(MdOutlineEdit,{})]}),/*#__PURE__*/_jsxs(Button,{variant:\"#fff\",className:\"remove-img\",onClick:handleRemoveImage,children:[\"Remove \",/*#__PURE__*/_jsx(MdDeleteOutline,{})]})]}),/*#__PURE__*/_jsx(ToastContainer,{})]});};export default ImageSelectComponent;","map":{"version":3,"names":["React","useState","Button","MdOutlineEdit","MdDeleteOutline","avatar","ImageSelectModal","ToastContainer","toast","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ImageSelectComponent","_ref","currentImage","setCurrentImage","originalImage","setOriginalImage","modalOpen","setModalOpen","validImage","setValidImage","getImage","e","imageType","target","files","type","error","uploadImg","length","newImage","URL","createObjectURL","handleRemoveImage","children","className","src","alt","variant","onClick"],"sources":["/home/user/Documents/user-dashboard-frontend/src/components/ImageSelectComponent/ImageSelectComponent.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { MdOutlineEdit, MdDeleteOutline } from \"react-icons/md\";\r\nimport avatar from \"../../assets/images/avatar.png\";\r\nimport ImageSelectModal from \"./ImageSelectModal\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport \"./ImageSelectComponent.css\";\r\n// import \"../ImageComponent/ImageComponent.css\";\r\nconst ImageSelectComponent = ({\r\n  currentImage,\r\n  setCurrentImage,\r\n  originalImage,\r\n  setOriginalImage,\r\n}) => {\r\n  const [modalOpen, setModalOpen] = useState(false);\r\n  const [validImage, setValidImage] = useState(true);\r\n\r\n  const getImage = (e) => {\r\n    const imageType = e.target.files[0].type;\r\n    if (\r\n      imageType !== \"image/jpg\" &&\r\n      imageType !== \"image/jpeg\" &&\r\n      imageType !== \"image/png\"\r\n    ) {\r\n      toast.error(\"Invalid file format\");\r\n      setValidImage(false);\r\n    }\r\n    setCurrentImage(e.target.files[0]);\r\n    setOriginalImage(e.target.files[0]);\r\n  };\r\n\r\n  const uploadImg = () => {\r\n    if (currentImage.length !== 0) {\r\n      const newImage = setCurrentImage(URL.createObjectURL(currentImage));\r\n      setModalOpen(false);\r\n      return newImage;\r\n    } else {\r\n      setCurrentImage(currentImage);\r\n    }\r\n    setModalOpen(false);\r\n  };\r\n\r\n  const handleRemoveImage = () => {\r\n    setCurrentImage(!currentImage ? avatar : avatar);\r\n  };\r\n  return (\r\n    <>\r\n      <div className=\"upload-control\">\r\n        <ImageSelectModal\r\n          modalOpen={modalOpen}\r\n          setModalOpen={setModalOpen}\r\n          getImage={getImage}\r\n          uploadImg={uploadImg}\r\n          currentImage={currentImage}\r\n          validImage={validImage}\r\n          //setValidImage\r\n        />\r\n        {/* image tag */}\r\n        <div className=\"img_box\">\r\n          <img\r\n            src={currentImage ? currentImage : avatar}\r\n            alt=\"\"\r\n            className=\"profile-img\"\r\n          />\r\n        </div>\r\n        <Button\r\n          variant=\"primary\"\r\n          className=\"change-img\"\r\n          onClick={() => setModalOpen(true)}\r\n        >\r\n          Change <MdOutlineEdit />\r\n        </Button>\r\n\r\n        <Button\r\n          variant=\"#fff\"\r\n          className=\"remove-img\"\r\n          onClick={handleRemoveImage}\r\n        >\r\n          Remove <MdDeleteOutline />\r\n        </Button>\r\n      </div>\r\n\r\n      <ToastContainer />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ImageSelectComponent;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}