{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import Button from\"react-bootstrap/Button\";import Modal from\"react-bootstrap/Modal\";import KYCForms from\"../KYCForms\";import{KYCFormsButton}from\"../KYCFormsButton/KYCFormsButton\";import axios from\"axios\";import\"./kyc-gold-form-modal.css\";import{fetchInfo,countries,baseUrl}from\"../../../components/Endpoints\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const KYCFormModal=props=>{const[show,setShow]=useState(false);const[accType,setAccType]=useState(\"\");const[countriesData,setCountries]=useState({});const handleClose=()=>{setShow(false);props.callback(\"done\");};const Cancel=()=>{setShow(false);props.callback(\"\");};useEffect(()=>{if(accType!=\"\")fetchData();},[accType]);const fetchData=async()=>{try{const response=await axios.get(baseUrl+countries);// Replace with your API endpoint\nsetCountries(response.data);}catch(error){console.error(error);}};const handleShow=acc=>{if(acc!==accType)setAccType(acc);};useEffect(()=>{if(accType!==\"\"){setShow(true);localStorage.setItem(\"section_1\",0);localStorage.setItem(\"section_2\",0);localStorage.setItem(\"section_3\",0);}else{setShow(false);}},[accType]);useEffect(()=>{handleShow(props.acct);// console.log(\"handle show dey here o\");\n},[]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Modal,{show:show,onHide:handleClose,backdrop:\"static\",keyboard:false,children:/*#__PURE__*/_jsxs(Modal.Body,{children:[/*#__PURE__*/_jsx(Button,{variant:\"\",className:\"cancel-btn\",onClick:Cancel,children:\"Cancel\"}),\" \",/*#__PURE__*/_jsx(KYCForms,{accountType:accType,handleClose:handleClose,countryList:countriesData})]})})});};export default KYCFormModal;","map":{"version":3,"names":["React","useState","useEffect","Button","Modal","KYCForms","KYCFormsButton","axios","fetchInfo","countries","baseUrl","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","KYCFormModal","props","show","setShow","accType","setAccType","countriesData","setCountries","handleClose","callback","Cancel","fetchData","response","get","data","error","console","handleShow","acc","localStorage","setItem","acct","children","onHide","backdrop","keyboard","Body","variant","className","onClick","accountType","countryList"],"sources":["/home/user/Documents/user-dashboard-frontend/src/page/KYCForms/KYCFormModal/KYCFormModal.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Button from \"react-bootstrap/Button\";\nimport Modal from \"react-bootstrap/Modal\";\nimport KYCForms from \"../KYCForms\";\nimport { KYCFormsButton } from \"../KYCFormsButton/KYCFormsButton\";\nimport axios from \"axios\";\nimport \"./kyc-gold-form-modal.css\";\nimport { fetchInfo, countries, baseUrl } from \"../../../components/Endpoints\";\nconst KYCFormModal = (props) => {\n  const [show, setShow] = useState(false);\n  const [accType, setAccType] = useState(\"\");\n  const [countriesData, setCountries] = useState({});\n  const handleClose = () => {\n    setShow(false);\n    props.callback(\"done\");\n  };\n  const Cancel = () => {\n    setShow(false);\n    props.callback(\"\");\n  };\n  useEffect(() => {\n    if (accType != \"\") fetchData();\n  }, [accType]);\n  const fetchData = async () => {\n    try {\n      const response = await axios.get(baseUrl + countries); // Replace with your API endpoint\n      setCountries(response.data);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n  const handleShow = (acc) => {\n    if (acc !== accType) setAccType(acc);\n  };\n  useEffect(() => {\n    if (accType !== \"\") {\n      setShow(true);\n      localStorage.setItem(\"section_1\", 0);\n      localStorage.setItem(\"section_2\", 0);\n      localStorage.setItem(\"section_3\", 0);\n    } else {\n      setShow(false);\n    }\n  }, [accType]);\n  useEffect(() => {\n    handleShow(props.acct);\n    // console.log(\"handle show dey here o\");\n  }, []);\n\n  return (\n    <>\n      <Modal\n        show={show}\n        onHide={handleClose}\n        backdrop=\"static\"\n        keyboard={false}\n      >\n        <Modal.Body>\n          <Button variant=\"\" className=\"cancel-btn\" onClick={Cancel}>\n            Cancel\n          </Button>{\" \"}\n          <KYCForms\n            accountType={accType}\n            handleClose={handleClose}\n            countryList={countriesData}\n          />\n        </Modal.Body>\n      </Modal>\n    </>\n  );\n};\nexport default KYCFormModal;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}